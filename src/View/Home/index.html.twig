{% extends 'layout.html.twig' %}


{% block stylesheet %}
	<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css"/>
	<link rel="stylesheet" href="/assets/css/swiper.css">
{% endblock %}

{% block content %}


	<div class="container-fluid">
		<div class="row mt-5">
			<div class="col-lg-5 mb-5 d-flex flex-column">
				<h3 class="p-2 text-center fs-5 fw-bold bg-white rounded-top mx-auto" style="width: 50%">
					Toi le matin quand ......
				</h3>
				<a href="/" class="stretched-link"></a>
				<img src="https://picsum.photos/200/200?random={{ loop.index }}" class=" rounded-bottom mx-auto" style="width: 50%" ; alt="...">
			</div>
			<div class="col-lg-7 text-center d-flex align-items-center justify-content-center">
				<h1>Toi aussi crée ton <a href="">MEME</a> c'est ICI</h1>
				<a href="/create" class="stretched-link"></a>
			</div>
		</div>
	</div>
	{% set categories = [
        {categorie: "Top 10"},
        {categorie: "Nouveautés"},
        {categorie: "Catégorie 1"},
        {categorie: "Catégorie 2"},
        {categorie: "Catégorie 3"},
        {categorie: "Catégorie 4"},
    ] %}
	{% for categorie in categories %}
		<section class="text">
			<div class="container-fluid ">
				<div class="row text-start mb-3 mt-3">
					<div class="col-md-12">
						<h2>{{category.name}}</h2>

					</div>
				</div>
				<!-- Swiper -->
				<div class="swiper-container overflow-hidden w-100 position-relative">
                <div class="swiper-wrapper">
                {% for meme in memes|filter(meme => meme.category_id == category.id) %}
                <div class="swiper-slide">
                <div class="d-flex flex-column ">
									<h3 class="p-2 fs-5 fw-bold text-center bg-white rounded-top">
                                        {{meme.legend}}
									</h3>
									<a href="/vote" class="stretched-link"></a>
									<img src="/uploads/images/{{ meme.image }}" class="img-fluid rounded-bottom" alt="...">
								</div>
							</div>
						{% endfor %}
					</div>
                     <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
                </div>

				</div>
			</div>
		</section>
	{% endfor %}
{% endblock %}

{% block javascript %}
	<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
	<script>
		let swiper = new Swiper('.swiper-container', {
navigation: {
nextEl: '.swiper-button-next',
prevEl: '.swiper-button-prev'
},
spaceBetween: 15,
pagination: {
el: ".swiper-pagination",
clickable: true
},
breakpoints: { // when window width is >= 320px
320: {
slidesPerView: 2
},
// when window width is >= 480px
768: {
slidesPerView: 3
},
992: {
slidesPerView: 4
},
// when window width is >= 1000px
1400: {
slidesPerView: 6
}
}
});
	</script>

{% endblock %}
